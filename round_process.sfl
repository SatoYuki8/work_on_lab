/* 丸め処理のモジュール */

circuit round_process{
    input frac<13>;
    input sticky;
    output result<13>;
    output cout;
    instrin do;

    sel_v tmp<14>;

    instruct do par{
	alt{
	    (frac<1> == 0b0): par{
		result = frac;
		cout = 0b0;
	    }
      	    ((^frac<2> & frac<1> & ^frac<0> & ^sticky) == 0b1): par{
		result = frac;
		cout = 0b0;
	    }
	    else: par{
		tmp = (0b0||frac) + 0b00000000000100;
		result = tmp<12:0>;
		cout = tmp<13>;
	    }
	}
    }
}
